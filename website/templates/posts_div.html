{% extends "base.html" %}
{% block title %}Home{% endblock %}
{% block content %}
<h1 align="center">{% block header %} Posts {% endblock %}</h1>
<div id = "posts">
    {% for post in posts %}
        <div class="card">
            <div class="card__header d-flex justify-content-between align-items-center">
                <a href="/posts/{{post.user.username}}">{{ post.user.username }}</a>
                {% if user.id == post.author %}
                    <div style="position: relative">
                        <button type="button" class="btn btn--sm btn--primary dropdown-toggle"></button>
                        <ul class="dropdown-menu">
                            <li><a href="/delete-post/{{ post.id }}" class="dropdown-item">Delete</a></li>
                        </ul>
                    </div>
                {% endif %}
            </div>
            <div class="card__body">
                <div class="card_text">{{ post.text }}</div>
                <form class="" method="POST" action="/create-comment/{{ post.id }}">
                    <input
                        type = "text"
                        id = "text"
                        name = "text"
                        class = "form-control"
                        placeholder = "Add a comment"
                    />
                    <button type="submit" class="btn btn--primary">></button>
                </form>
            </div>
            <div class="card__footer text_muted">
                Posted on:
                {{ post.date_created.strftime('%d-%m-%Y | %H:%M') }}
            </div>
        </div>
        <br>
    {% endfor %}
</div>
{% block footer %}
<div align="center">
    <a href="/create-post"><button type="button" class="btn btn--primary btn--lg">
            Create Post
    </button></a>
</div>
{% endblock %}

{% endblock %}